<!-- 왼쪽 사이드 메뉴 조각(fragment) 
  -> 필요한 곳에서
   th:replace="~{조각경로}" / th:insert="~{조각경로}" 
-->

<aside class="sidebar">
	<nav class="sidebar-nav">
		<div class="nav-item">
			<a href="/book/bookList" class="nav-link">
				전체도서
			</a>
		</div>
		<div class="nav-item">
			<a href="#" class="nav-link has-submenu">
				전체 랭킹 TOP20
				<i class="fas fa-chevron-down ms-auto"></i>
			</a>
			<div class="submenu">
				<a href="/book/topList" class="nav-link">
					TOP 20
				</a>
				<a href="/book/categoryList" class="nav-link">
					장르별 랭킹 목록
				</a>
				<a href="/book/bestCategoryList" class="nav-link">
					장르별 베스트
				</a>
			</div>
		</div>
		<div class="nav-item">
			<a href="#" class="nav-link has-submenu">
				기간별 랭킹
				<i class="fas fa-chevron-down ms-auto"></i>
			</a>
			<div class="submenu">
				<a href="/book/bookPeriodList" class="nav-link">
					기간별 실시간 랭킹
				</a>
				<a href="/book/bookDetailPeriodList" class="nav-link">
					상세 기간별 랭킹
				</a>
			</div>
		</div>
	</nav>
</aside>


<script>
	// Mobile menu toggle
	const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
	const sidebar = document.querySelector('.sidebar');

	mobileMenuBtn.addEventListener('click', () => {
		sidebar.classList.toggle('active');
	});

	// Submenu toggle
	const submenuLinks = document.querySelectorAll('.has-submenu');

	submenuLinks.forEach(link => {
		link.addEventListener('click', (e) => {
			e.preventDefault();
			const submenu = link.nextElementSibling;
			submenu.classList.toggle('active');
			const icon = link.querySelector('.fa-chevron-down');
			icon.style.transform = submenu.classList.contains('active') ? 'rotate(180deg)' : 'rotate(0)';
		});
	});
</script>